<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>Sonder-find</title>
	<link rel="stylesheet" type="text/css" href="../css/header.css">
	<link rel="stylesheet" type="text/css" href="../css/find.css">
	
</head>
<body>
<!-- 导航 -->
<header>
	<a href="#" class="logo"><img src="logo.png" width="50px" height="50"></a>
	<div class="sousuo">
	<div class="search-box">
		
		<input class="search-txt" type="text" name="" placeholder="Type to search" >
		<a class="search-btn" href="#"><img src="SEARCH.png" width="40px" height="40px" ></a>
		<i class="fas fa-search"></i>
	</div>
	</div>

	<ul>
		<li><a href="../index.html" >主页</a></li>
        <li><a href="../find/find.html"style="color: grey;">发现</a></li>
        <li><a href="../vision/vision.html">视野</a></li>
        <li><a href="../artist/artist.html">约稿</a></li>
        <li><a href="../plus/plus.html">创作</a></li>
        <li><div class="dropdown">
        	<span><a href="../mine/mine.html">我的</a></span>
        	<div class="dropdown-content">
              
              <a href="../message/message.html">消息通知</a>
              <a href="../setting/setting.html">设置</a>
          	</div>
      		</div>
        </li>

	</ul>
</header>

<script type="text/javascript">
	window.addEventListener("scroll",function(){
		var header =document.querySelector("header");
		header.classList.toggle("sticky",window.scrollY >0);
	})
</script>
<!-- 导航 -->
<!-- 上方背景 -->
<section class="top"> 
	<div class="logo1">
		<img src="logo.png" width="200";height="200">
	</div>
	<div class="slogan">
		<p>Color of work</p> 
	</div>
	 <div class="buttons">
                <button class="button1" onclick="#">摄影</button>
                <button class="button1" onclick="#">风景</button>
                <button class="button1" onclick="#">厚涂</button>
                  <button class="button1" onclick="#">人像</button>
                    <button class="button1" onclick="#">绘本</button>
                     <button class="button1" onclick="#">动漫</button>
                <button class="button1" onclick="#">游戏</button>
                 <button class="button1" onclick="#">油画</button>
                  <button class="button1" onclick="#">产品</button>
    </div>
                
		</section>
		<!-- 上方背景 -->

	<div id="con" class="container">
		<div class="item">
		<div class="picture">
			<a href="../detailsofwork/detailsofwork.html"><img src="wtc.jpg"></a> 
			<!-- <div class="buttonbox">  -->
		 <!-- <a href=""><div class="cardbutton" id="Like"><img src="评论.png" style="width: 28px;padding-top: 5px;padding-left: 4px;"></div></a>  -->
			  <!-- <a href=""><div class="cardbutton" id="Like"><img src="收藏.png" style="width: 30px;"></div></a>  -->
			  <!-- <a href=""><div class="cardbutton" id="Like"><img src="喜欢.png" style="width: 30px;padding-top: 3px;"></div></a>  -->
					
			<!-- </div>	 -->
		</div>
		</div>	
			<div class="item">
		<div class="picture">
			<a href="#"><img src="a.jpg"></a> 
			<!-- <div class="buttonbox">  -->
		 <!-- <a href=""><div class="cardbutton" id="Like"><img src="评论.png" style="width: 28px;padding-top: 5px;padding-left: 4px;"></div></a>  -->
			  <!-- <a href=""><div class="cardbutton" id="Like"><img src="收藏.png" style="width: 30px;"></div></a>  -->
			  <!-- <a href=""><div class="cardbutton" id="Like"><img src="喜欢.png" style="width: 30px;padding-top: 3px;"></div></a>  -->
					
			<!-- </div>	 -->
		</div>
		</div>	
		<div class="item">
		<div class="picture">
			
			<a href="#"><img src="b.jpg"></a> 
			<!-- <div class="buttonbox">  -->
		 <!-- <a href=""><div class="cardbutton" id="Like"></div></a>  -->
			 <!-- <a href=""><div class="cardbutton" id="Collect"></div> -->
			 <!-- <a href=""><div class="cardbutton" id="Comment"></div> -->
					
			<!-- </div>	 -->
		</div>
		</div>	
			<div class="item">
		<div class="picture">
			
			<a href="#"><img src="c.jpg"></a> 
			
		</div>
		</div>	
		<div class="item">
		<div class="picture">
			
			<a href="#"><img src="d.jpg"></a> 
			
		</div>
		</div>	
	
	<div class="item">
		<div class="picture">
			
			<a href="#"><img src="e.jpg"></a> 
				
		</div>
		</div>	
	
	<div class="item">
		<div class="picture">
			
			<a href="#"><img src="f.jpg"></a> 
			
		</div>
		</div>	
	
	<div class="item">
		<div class="picture">
			
			<a href="#"><img src="g.jpg"></a> 
				
		</div>
		</div>	
			<div class="item">
		<div class="picture">
			
			<a href="#"><img src="h.jpg"></a> 
			
		</div>
		</div>	
			<div class="item">
		<div class="picture">
			
			<a href="#"><img src="i.jpg"></a> 
			
		</div>
		</div>	
			<div class="item">
		<div class="picture">
			
			<a href="#"><img src="j.jpg"></a> 
			
			
		</div>
		</div>	
			<div class="item">
		<div class="picture">
			
			<a href="#"><img src="k.jpg"></a> 
			
		</div>
		</div>	
			<div class="item">
		<div class="picture">
			
			<a href="#"><img src="l.jpg"></a> 
			
		</div>
		</div>	
			<div class="item">
		<div class="picture">
			
			<a href="#"><img src="m.jpg"></a> 
		
		</div>
		</div>	
			<div class="item">
		<div class="picture">
			
			<a href="#"><img src="n.jpg"></a> 
			
		</div>
		</div>	
			<div class="item">
		<div class="picture">
			
			<a href="#"><img src="o.jpg"></a> 
			
		</div>
		</div>	
		<div class="item">
		<div class="picture">
			
			<a href="#"><img src="p.jpg"></a> 
			
		</div>
		</div>	
	
	<div class="item">
		<div class="picture">
			
			<a href="#"><img src="q.jpg"></a> 
			
		</div>
		</div>	
		<div class="item">
		<div class="picture">
			
			<a href="#"><img src="r.jpg"></a> 
				
		</div>
		</div>	
		<div class="item">
		<div class="picture">
			
			<a href="#"><img src="s.jpg"></a> 
			
		</div>
		</div>	
		<div class="item">
		<div class="picture">
			
			<a href="#"><img src="t.jpg"></a> 
				
			</div>
			</div>	
			<div class="item">
		<div class="picture">
			
			<a href="#"><img src="u.jpg"></a> 
			
			</div>
			</div>	
			<div class="item">
		<div class="picture">
			
			<a href="#"><img src="v.jpg"></a> 
			
			</div>
			</div>	
			<div class="item">
		<div class="picture">
			
			<a href="#"><img src="w.jpg"></a> 
			
				
			</div>
			</div>	
			<div class="item">
		<div class="picture">
			
			<a href="#"><img src="x.jpg"></a> 
				
			</div>
			</div>	
			<div class="item">
				<div class="picture">
			
						<a href="#"><img src="y.jpg"></a> 
					
				</div>

			</div>	
			<div class="item">
				<div class="picture">
			
						<a href="#"><img src="z.jpg"></a> 
					
					
				</div>

			</div>	
			<div class="item">
				<div class="picture">
			
						<a href="#"><img src="a1.jpg"></a> 
					
				</div>

			</div>	
			<div class="item">
				<div class="picture">
			
						<a href="#"><img src="a2.jpg"></a> 
						
				</div>

			</div>	
			<div class="item">
				<div class="picture">
			
						<a href="#"><img src="b1.jpg"></a> 
						
				</div>
			</div>
				<div class="item">
				<div class="picture">
			
						<a href="#"><img src="c1.jpg"></a> 
						
				</div>

			</div>	
			<div class="item">
				<div class="picture">
			
						<a href="#"><img src="d1.jpg"></a> 
						
				</div>

			</div>	
			<div class="item">
				<div class="picture">
			
						<a href="#"><img src="e1.jpg"></a> 
						
				</div>

			</div>	
			<div class="item">
				<div class="picture">
			
						<a href="#"><img src="f1.jpg"></a> 
						
				</div>

			</div>	
			<div class="item">
				<div class="picture">
			
						<a href="#"><img src="g1.jpg"></a> 
						
				</div>

			</div>	
			<div class="item">
				<div class="picture">
			
						<a href="#"><img src="h1.jpg"></a> 
						
				</div>

			</div>	
			<div class="item">
				<div class="picture">
			
						<a href="#"><img src="i1.jpg"></a> 
						
				</div>

			</div>	
			<div class="item">
				<div class="picture">
			
						<a href="#"><img src="j1.jpg"></a> 
						
				</div>

			</div>	
			<div class="item">
				<div class="picture">
			
						<a href="#"><img src="k1.jpg"></a> 
						
				</div>

			</div>	
			<div class="item">
				<div class="picture">
			
						<a href="#"><img src="l1.jpg"></a> 
						
				</div>

			</div>	
			<div class="item">
				<div class="picture">
			
						<a href="#"><img src="m1.jpg"></a> 
						
				</div>

			</div>	
			<div class="item">
				<div class="picture">
			
						<a href="#"><img src="n1.jpg"></a> 
						
				</div>

			</div>	
			<div class="item">
				<div class="picture">
			
						<a href="#"><img src="o1.jpg"></a> 
						
				</div>

			</div>	
			<div class="item">
				<div class="picture">
			
						<a href="#"><img src="p1.jpg"></a> 
						
				</div>

			</div>	
			<div class="item">
				<div class="picture">
			
						<a href="#"><img src="q1.jpg"></a> 
						
				</div>

			</div>
			<div class="item">
				<div class="picture">
			
						<a href="#"><img src="r1.jpg"></a> 
						
				</div>

			</div>		
			<div class="item">
				<div class="picture">
			
						<a href="#"><img src="s1.jpg"></a> 
						
				</div>

			</div>	
			<div class="item">
				<div class="picture">
			
						<a href="#"><img src="t1.jpg"></a> 
						
				</div>

			</div>	
			<div class="item">
				<div class="picture">
			
						<a href="#"><img src="u1.jpg"></a> 
						
				</div>

			</div>	
			<div class="item">
				<div class="picture">
			
						<a href="#"><img src="v1.jpg"></a> 
						
				</div>

			</div>	
<div class="item">
				<div class="picture">
			
						<a href="#"><img src="w1.jpg"></a> 
						
				</div>

			</div>	
<div class="item">
				<div class="picture">
			
						<a href="#"><img src="x1.jpg"></a> 
						
				</div>

			</div>	
			<div class="item">
				<div class="picture">
			
						<a href="#"><img src="y1.jpg"></a> 
						
				</div>

			</div>	
			<div class="item">
				<div class="picture">
			
						<a href="#"><img src="z1.jpg"></a> 
						
				</div>

			</div>	
			<div class="item">
				<div class="picture">
			
						<a href="#"><img src="b2.jpg"></a> 
						
				</div>

			</div>	
			<div class="item">
				<div class="picture">
			
						<a href="#"><img src="b3.jpg"></a> 
						
				</div>

			</div>	
<div class="item">
				<div class="picture">
			
						<a href="#"><img src="b4.jpg"></a> 
						
				</div>

			</div>	
			<div class="item">
				<div class="picture">
			
						<a href="#"><img src="b5.jpg"></a> 
						
				</div>

			</div>	
			<div class="item">
				<div class="picture">
			
						<a href="#"><img src="b6.jpg"></a> 
						
				</div>

			</div>	
			<div class="item">
				<div class="picture">
			
						<a href="#"><img src="b7.jpg"></a> 
						
				</div>

			</div>	


			</div>	
	</div>

 <script>

           window.onload = function () {
               waterFall();

               let container = document.getElementById("con");

               document.onscroll = throttle(function(){
                   let item = document.getElementsByClassName("item");
                   if(item[item.length - 1].getBoundingClientRect().top < window.innerHeight){
                       for(let i = 0 ; i < item.length ; i++){
                           item[i].className = "item";
                       }
                       // for(let i = 0 ; i < 5 ; i++){
                          	
                            // for(let i = 1 ; i <= 4 ; i++){
                                // container.innerHTML += `
                                             // <div class="item show">
                                                  // <div class="picture">
                                                     // <img src="${i}.jpg" alt="">
                                                  // </div>
                                             // </div>
                                // `;
                            // }
                        // }
                       waterFall();
                   }
               },1000);

               window.onresize = throttle(function () {
                   waterFall();
               },300);
           };


           function throttle(callback,delay) {
                 let flag = true;
                 return function () {
                      if(flag){
                          flag = false;
                          setTimeout( ()=> {
                             callback.bind(this)();
                             flag = true;
                          },delay);
                      }
                 }
           }

           function waterFall() {
                    // 1. 设置container盒子的宽度
                    //     注意:   浏览器的可视区域的宽度 / 一个item元素的宽度  =  一行的排列的元素的个数
                    //     注意：  一行的排列的元素的个数 * 一个item元素的宽度
                    let container = document.getElementById("con");
                    let item = document.getElementsByClassName("item");
                    let clientWidth = document.documentElement.clientWidth;
                    let columnCount = Math.floor(clientWidth / item[0].offsetWidth);
                    container.style.width = columnCount * item[0].offsetWidth + "px";


                    // 2. 设置每一个item元素的排列位置
                    //     第一行整体的top值都是0   后面的一次找上一行高度最小的容器 在它的下面进行排列
                    let hrr = []; // 存每一行盒子的高度
                    for(let i = 0 ; i < item.length; i++){
                              if(i < columnCount){
                                  item[i].style.top = "0px";
                                  item[i].style.left = i * item[0].offsetWidth + "px";
                                  hrr.push(item[i].offsetHeight);
                              //    第一行
                              }else{
                               // 第一行之后的
                                  let min = Math.min(...hrr);
                                  let index = hrr.indexOf(min);
                                  item[i].style.top = min + "px";
                                  item[i].style.left = index * item[0].offsetWidth + "px";
                                  hrr[index] += item[i].offsetHeight;
                              }
                    }
           }

     </script>
</body>
</html>